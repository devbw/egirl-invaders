<template>
  <div
    class="Game"
    @click="createWeapon({ left: mouseX, top: characterRect.top })"
  >
    <div ref="character" class="mochi" id="character">
      <img :src="usedSkin" class="character" draggable="false" />
    </div>

    <div class="containerlife">
      <div v-for="(points, index) in life" :key="index" class="life"></div>
    </div>

    <p class="score">Score : {{ enemiesKilled }}</p>

    <p class="level">lvl : {{ lvl }}</p>

    <svg
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      viewBox="0.00 0.00 640.00 1433.00"
      width="640.00"
      height="1433.00"
      class="weapon"
      v-for="(weapon, index) in weapons"
      :key="index"
      :style="{ top: weapon.top + 'px', left: weapon.left + 'px' }"
    >
      <path
        fill="#ffffff"
        d="
  M 319.84 0.00
  L 321.04 0.00
  L 368.03 178.25
  Q 368.28 179.21 367.29 179.21
  L 272.46 179.39
  A 0.22 0.22 0.0 0 1 272.25 179.12
  L 319.84 0.00
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 309.29 347.44
  Q 308.51 347.44 308.51 348.21
  L 308.53 412.26
  A 0.63 0.63 0.0 0 1 307.90 412.89
  Q 269.59 413.13 229.85 412.84
  Q 229.24 412.84 229.24 412.23
  L 229.30 353.90
  A 6.79 6.67 52.6 0 1 229.51 352.23
  L 272.19 187.54
  Q 272.48 186.40 273.66 186.41
  Q 320.75 186.89 366.92 186.47
  Q 368.26 186.45 368.60 187.76
  Q 389.68 267.98 410.34 347.97
  Q 411.61 352.88 411.62 357.68
  Q 411.63 384.70 411.62 412.37
  Q 411.62 413.00 410.99 413.00
  L 333.53 412.94
  Q 333.13 412.94 333.13 412.53
  L 333.08 348.00
  Q 333.08 347.41 332.50 347.41
  L 309.29 347.44
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 244.25 938.84
  Q 244.25 938.06 243.46 938.05
  L 228.55 938.01
  Q 228.05 938.01 228.06 937.50
  Q 228.28 869.95 228.18 801.71
  Q 228.18 799.51 228.52 796.77
  Q 229.20 791.29 229.21 785.75
  Q 229.27 602.26 229.25 419.76
  Q 229.25 419.29 229.72 419.25
  Q 232.42 419.07 235.24 419.06
  Q 271.48 418.94 307.96 419.00
  Q 308.55 419.00 308.55 419.59
  L 308.63 1080.98
  Q 308.63 1083.72 307.12 1081.44
  L 286.87 1050.73
  A 0.81 0.80 73.0 0 0 286.20 1050.37
  L 245.04 1050.35
  Q 244.22 1050.35 244.22 1049.53
  L 244.25 938.84
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 396.79 938.21
  A 0.38 0.38 0.0 0 0 396.42 938.59
  L 396.54 1049.69
  Q 396.54 1050.41 395.81 1050.41
  L 355.18 1050.44
  Q 354.06 1050.45 353.45 1051.39
  Q 344.78 1064.77 335.11 1079.59
  Q 334.26 1080.90 333.19 1082.29
  Q 332.59 1083.07 332.67 1082.08
  Q 333.10 1077.00 333.10 1072.30
  Q 333.14 751.41 333.12 419.93
  Q 333.12 419.04 334.00 419.04
  L 411.04 418.96
  Q 411.58 418.96 411.58 419.51
  Q 411.77 593.56 411.88 770.25
  Q 411.89 784.97 412.47 791.75
  Q 413.20 800.15 413.20 803.25
  Q 413.23 879.04 413.42 937.45
  Q 413.42 938.11 412.76 938.11
  L 396.79 938.21
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 10.30 817.56
  Q 48.22 772.95 84.89 728.96
  Q 91.29 721.27 97.75 713.65
  Q 156.97 643.74 215.78 572.49
  Q 216.68 571.40 216.69 572.82
  Q 216.87 678.04 216.72 784.00
  Q 216.71 795.25 216.54 806.48
  A 0.54 0.54 0.0 0 1 216.00 807.01
  L 121.93 807.00
  Q 120.98 807.00 120.37 807.72
  L 102.31 828.79
  A 1.04 1.03 -69.9 0 1 101.52 829.16
  Q 53.62 829.32 5.75 829.32
  Q 3.24 829.32 0.88 829.48
  A 0.36 0.35 -71.5 0 1 0.59 828.89
  Q 5.47 823.24 10.30 817.56
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 640.00 828.56
  L 640.00 829.30
  L 540.77 829.19
  A 2.31 2.31 0.0 0 1 539.03 828.40
  L 520.73 807.36
  A 1.07 1.07 0.0 0 0 519.92 806.99
  L 424.78 807.03
  Q 424.27 807.03 424.27 806.53
  L 424.31 573.49
  Q 424.31 571.88 425.35 573.11
  L 640.00 828.56
  Z"
      />
      <rect
        fill="#ffffff"
        x="301.22"
        y="1087.64"
        width="38.24"
        height="40.74"
        rx="0.95"
      />
      <path
        fill="#ffffff"
        d="
  M 329.47 1139.48
  L 311.42 1139.77
  A 0.45 0.45 0.0 0 0 310.97 1140.23
  L 311.08 1149.25
  A 0.45 0.45 0.0 0 1 310.63 1149.71
  L 301.21 1149.85
  A 0.45 0.45 0.0 0 1 300.75 1149.40
  L 300.74 1129.87
  A 0.45 0.45 0.0 0 1 301.19 1129.42
  L 338.73 1129.54
  A 0.45 0.45 0.0 0 1 339.18 1130.00
  L 338.90 1149.39
  A 0.45 0.45 0.0 0 1 338.46 1149.83
  L 330.20 1150.06
  A 0.45 0.45 0.0 0 1 329.74 1149.60
  L 329.93 1139.94
  A 0.45 0.45 0.0 0 0 329.47 1139.48
  Z"
      />
      <path
        fill="#ffffff"
        d="
  M 328.53 1145.87
  C 328.52 1188.61 327.65 1236.07 326.66 1276.50
  Q 325.41 1327.25 323.62 1377.99
  Q 322.69 1404.26 321.12 1432.35
  Q 321.10 1432.60 320.86 1432.60
  L 320.85 1432.60
  Q 320.60 1432.61 320.57 1432.36
  Q 320.23 1429.32 320.07 1426.73
  C 319.18 1412.35 318.41 1397.45 317.96 1382.51
  Q 315.88 1313.58 315.22 1266.99
  Q 314.46 1213.22 313.09 1159.17
  C 312.94 1153.26 312.40 1147.28 312.55 1141.43
  A 0.58 0.58 0.0 0 1 313.09 1140.86
  Q 321.42 1140.32 327.84 1140.68
  Q 328.39 1140.71 328.42 1141.27
  Q 328.53 1143.57 328.53 1145.87
  Z"
      />
    </svg>

    <svg
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      viewBox="0.00 0.00 1467.00 1429.00"
      width="1572.00"
      height="1531.00"
      class="enemyWeapon"
      v-for="(weapon, index) in enemyWeapon"
      :key="index"
      :style="{ top: weapon.top + 'px', left: weapon.left + 'px' }"
    >
      <g stroke-width="2.00" fill="none" stroke-linecap="butt">
        <path
          stroke="#b09e89"
          vector-effect="non-scaling-stroke"
          d="
  M 1010.78 684.31
  C 1005.01 643.91 989.22 604.57 966.75 570.35
  Q 961.49 562.34 955.09 554.29
  Q 938.65 533.60 921.23 518.02
  Q 869.91 472.16 803.36 454.38
  Q 765.24 444.20 726.68 445.37
  Q 678.65 446.82 631.82 465.02
  C 583.29 483.87 540.11 515.14 508.95 556.62
  Q 462.17 618.92 454.33 695.88
  Q 453.38 705.24 453.20 715.95
  Q 452.54 755.81 462.24 791.09
  Q 474.21 834.60 499.35 872.91
  Q 520.22 904.72 553.12 932.09
  Q 560.72 938.42 569.19 944.21
  Q 639.79 992.52 726.90 995.33
  Q 736.80 995.65 747.07 995.04
  C 812.19 991.18 873.37 967.55 922.46 924.85
  Q 930.26 918.07 936.97 911.13
  Q 979.26 867.38 998.95 809.90
  Q 1019.96 748.54 1010.78 684.31"
        />
        <path
          stroke="#fe9ed6"
          vector-effect="non-scaling-stroke"
          d="
  M 992.19 772.10
  Q 994.41 760.88 995.61 747.86
  Q 1002.51 672.64 969.06 605.71
  Q 947.77 563.11 913.49 531.65
  C 882.49 503.20 845.15 482.48 805.00 470.85
  C 771.56 461.17 734.32 458.75 698.60 463.25
  C 640.39 470.58 583.97 499.22 543.11 541.96
  Q 526.92 558.89 515.64 575.05
  Q 482.05 623.15 472.31 683.29
  Q 470.75 692.94 470.10 702.98
  Q 464.32 792.66 514.11 866.99
  C 529.66 890.20 550.02 910.91 571.87 927.15
  Q 624.56 966.30 690.77 976.51
  C 721.23 981.21 752.09 980.49 782.29 975.43
  C 818.32 969.40 852.70 955.55 883.21 935.38
  Q 900.90 923.68 917.56 907.99
  Q 976.25 852.70 992.19 772.10"
        />
        <path
          stroke="#fe9ed6"
          vector-effect="non-scaling-stroke"
          d="
  M 774.15 466.45
  Q 673.83 451.78 590.31 505.62
  Q 570.95 518.10 552.93 535.19
  Q 504.21 581.38 483.71 644.58
  C 470.93 683.98 468.34 727.02 475.41 766.91
  Q 484.34 817.26 513.67 862.31
  C 549.36 917.12 606.45 955.52 670.22 970.50
  C 675.39 971.72 680.81 972.55 686.17 973.57
  Q 691.94 974.68 697.53 975.32
  Q 750.91 981.50 800.27 969.46
  Q 869.30 952.63 921.83 900.83
  Q 936.36 886.51 948.09 869.84
  Q 993.70 805.05 994.70 726.41
  Q 995.37 674.12 976.73 627.89
  Q 947.24 554.74 883.69 510.53
  Q 862.21 495.59 835.84 484.11
  Q 805.94 471.10 774.15 466.45"
        />
      </g>
      <path
        fill="#60fb64"
        d="
  M 941.06 1095.30
  C 941.57 1098.99 940.11 1102.41 940.26 1106.15
  Q 940.39 1109.30 939.86 1112.26
  C 939.24 1115.69 939.52 1119.14 938.83 1122.55
  C 938.18 1125.85 938.47 1129.16 937.75 1132.55
  C 937.33 1134.58 937.67 1136.61 937.27 1138.62
  Q 936.54 1142.26 936.54 1145.86
  C 936.53 1149.69 935.25 1153.09 935.80 1156.95
  C 936.42 1161.38 936.53 1165.72 937.43 1170.05
  Q 940.74 1185.81 944.88 1200.84
  Q 951.36 1224.43 957.98 1247.76
  Q 960.46 1256.50 963.29 1264.24
  Q 964.70 1268.08 962.95 1264.39
  Q 961.57 1261.49 960.06 1258.69
  Q 938.00 1217.86 916.15 1181.06
  C 909.76 1170.29 903.50 1160.30 894.50 1152.02
  Q 886.18 1144.36 878.44 1137.40
  C 874.39 1133.75 870.45 1129.74 866.17 1126.23
  A 1.09 1.07 47.2 0 0 864.88 1126.17
  L 781.92 1182.84
  Q 781.14 1183.37 780.79 1184.44
  C 779.89 1187.20 779.87 1190.00 779.41 1192.79
  Q 776.14 1212.65 773.00 1227.42
  Q 762.53 1276.82 749.84 1335.84
  Q 738.65 1387.85 732.67 1426.81
  Q 732.52 1427.79 732.02 1428.47
  A 0.41 0.41 0.0 0 1 731.28 1428.29
  C 725.91 1391.01 718.50 1353.06 710.82 1316.78
  Q 699.85 1264.86 688.54 1211.48
  Q 685.78 1198.43 683.06 1184.56
  A 2.87 2.87 0.0 0 0 681.86 1182.75
  L 599.08 1126.45
  A 1.71 1.58 41.6 0 0 597.09 1126.49
  C 590.71 1131.82 583.17 1139.61 578.77 1143.52
  C 570.12 1151.21 561.82 1158.91 555.56 1168.63
  Q 548.97 1178.85 541.41 1192.62
  Q 520.71 1230.32 500.52 1269.83
  C 499.32 1272.19 498.45 1274.67 497.21 1276.98
  Q 497.15 1277.08 497.05 1277.04
  L 497.05 1277.04
  Q 496.91 1276.99 496.95 1276.84
  C 497.49 1274.85 498.39 1272.98 498.95 1271.01
  Q 502.45 1258.71 506.00 1246.76
  Q 517.70 1207.35 525.38 1174.49
  Q 528.05 1163.06 527.60 1150.54
  Q 527.49 1147.56 526.98 1144.55
  C 526.53 1141.88 526.90 1139.29 526.32 1136.56
  C 525.64 1133.32 525.98 1130.05 525.30 1126.75
  C 524.67 1123.67 524.85 1120.51 524.21 1117.32
  C 523.73 1114.97 524.20 1112.59 523.61 1110.20
  Q 522.98 1107.64 522.99 1105.04
  C 523.00 1101.77 521.69 1098.68 522.14 1095.41
  Q 522.23 1094.80 521.67 1094.54
  C 519.36 1093.49 517.06 1093.64 514.73 1093.26
  Q 513.23 1093.01 511.72 1092.79
  Q 458.72 1085.05 412.99 1078.49
  Q 411.12 1078.23 409.42 1077.79
  Q 408.94 1077.67 408.46 1077.83
  Q 399.89 1080.69 391.94 1084.91
  C 364.06 1099.69 339.25 1118.09 315.80 1138.48
  Q 313.01 1140.91 310.32 1143.90
  Q 310.25 1143.98 310.15 1144.00
  Q 310.10 1144.01 310.07 1143.97
  Q 310.04 1143.92 310.07 1143.88
  C 327.25 1121.92 342.73 1098.51 355.27 1073.75
  Q 364.67 1055.18 370.47 1033.78
  Q 370.94 1032.04 370.59 1030.39
  Q 358.42 972.53 346.24 918.18
  Q 345.99 917.07 344.84 917.08
  C 337.75 917.15 331.93 917.09 323.74 916.49
  Q 317.87 916.06 311.47 916.16
  C 306.43 916.24 301.34 915.26 296.37 915.26
  C 290.91 915.26 285.40 915.00 279.95 915.75
  Q 266.64 917.60 252.48 922.37
  Q 218.24 933.91 194.91 942.36
  C 183.62 946.45 172.30 949.77 161.21 954.70
  A 0.07 0.07 0.0 0 1 161.12 954.63
  Q 161.16 954.36 161.21 954.41
  Q 161.26 954.45 161.32 954.42
  Q 166.71 951.67 171.85 948.82
  C 198.00 934.31 224.53 918.88 250.45 902.17
  C 258.79 896.79 266.92 891.40 273.86 884.59
  Q 277.59 880.92 281.19 876.57
  Q 295.99 858.69 310.12 840.44
  A 1.83 1.82 -42.1 0 0 310.23 838.37
  Q 309.38 836.99 308.17 835.54
  Q 279.49 800.94 248.45 763.75
  Q 248.13 763.37 247.63 763.29
  Q 244.87 762.86 242.10 762.51
  Q 221.51 759.93 202.55 757.21
  Q 178.28 753.73 95.12 739.69
  C 77.38 736.70 59.30 734.08 41.76 731.37
  Q 30.81 729.67 8.06 726.94
  C 6.28 726.73 3.44 726.89 1.82 726.42
  Q -1.58 725.45 1.90 724.84
  Q 40.22 718.21 78.95 709.92
  Q 124.65 700.14 170.35 690.36
  Q 208.87 682.12 248.67 676.07
  Q 251.11 675.70 252.51 674.55
  Q 254.22 673.16 255.60 671.31
  Q 281.67 636.64 308.15 601.51
  A 1.97 1.96 44.3 0 0 308.12 599.11
  Q 306.24 596.76 304.33 594.62
  Q 292.69 581.64 280.59 567.91
  Q 269.45 555.25 257.41 547.12
  Q 226.79 526.42 199.62 508.87
  Q 180.24 496.35 160.45 483.76
  Q 156.35 481.15 152.01 478.78
  Q 151.89 478.72 151.95 478.60
  L 151.96 478.60
  Q 152.01 478.50 152.12 478.55
  C 159.50 482.14 166.73 484.38 173.97 487.27
  Q 215.08 503.70 254.49 518.75
  Q 262.83 521.94 271.57 523.79
  C 279.32 525.43 287.80 525.00 295.75 525.01
  Q 301.73 525.01 308.92 524.31
  C 314.86 523.74 320.65 524.19 326.75 523.58
  Q 335.42 522.71 344.05 523.15
  A 2.20 2.20 0.0 0 0 346.30 521.47
  Q 346.78 519.47 347.25 517.46
  Q 357.40 473.81 370.54 409.59
  Q 371.01 407.32 370.39 405.33
  Q 365.75 390.25 358.13 373.50
  Q 343.29 340.91 323.71 311.00
  Q 315.84 298.98 307.21 286.78
  Q 307.14 286.68 307.23 286.61
  L 307.23 286.61
  Q 307.34 286.51 307.44 286.62
  Q 308.77 288.07 310.16 289.25
  Q 317.70 295.64 324.70 301.78
  Q 355.35 328.63 385.80 350.23
  Q 397.14 358.28 409.62 365.57
  Q 411.52 366.68 413.63 366.18
  Q 463.27 354.47 522.65 339.87
  C 524.36 339.45 525.07 338.26 524.94 336.54
  Q 524.59 331.77 525.25 328.08
  C 526.05 323.63 525.51 319.23 526.34 314.90
  C 526.97 311.54 526.47 308.29 526.98 305.05
  C 527.61 300.96 527.39 296.98 527.99 293.04
  Q 528.38 290.49 528.47 288.20
  C 528.67 282.98 529.08 277.90 528.90 272.60
  Q 528.44 259.35 525.81 247.97
  C 520.87 226.58 515.04 207.13 508.78 186.65
  Q 505.44 175.75 501.75 165.72
  Q 501.71 165.60 501.87 165.53
  Q 501.91 165.51 501.93 165.55
  C 507.65 177.26 514.10 187.79 520.31 198.84
  Q 537.75 229.86 553.65 256.97
  C 556.45 261.74 560.21 266.47 564.26 270.66
  Q 579.78 286.70 595.34 302.80
  Q 597.68 305.22 600.45 303.44
  Q 641.78 277.08 676.59 253.80
  Q 679.93 251.56 683.25 249.41
  C 685.99 247.64 685.84 245.56 686.35 242.78
  C 695.01 195.28 705.98 147.64 715.43 100.99
  Q 725.06 53.42 730.95 10.11
  Q 731.49 6.17 731.80 1.58
  Q 731.81 1.43 731.96 1.43
  L 731.96 1.43
  Q 732.10 1.44 732.11 1.58
  Q 732.43 6.03 732.99 10.49
  C 738.74 55.90 746.18 96.05 756.69 145.20
  Q 766.52 191.16 777.35 240.37
  Q 777.74 242.14 777.90 244.13
  C 778.21 248.20 780.56 249.21 783.60 251.24
  Q 823.20 277.82 862.42 303.57
  A 1.86 1.86 0.0 0 0 864.72 303.37
  Q 879.91 289.10 897.19 271.36
  C 907.17 261.12 913.03 249.90 920.37 236.41
  Q 939.37 201.46 957.90 166.72
  Q 963.46 156.30 969.90 143.07
  Q 970.91 140.98 970.09 143.15
  C 963.26 161.16 957.90 179.86 952.44 198.00
  Q 946.27 218.50 939.33 246.11
  Q 934.19 266.54 935.99 286.61
  Q 936.39 291.10 936.55 295.37
  Q 936.71 299.69 937.29 304.08
  C 937.78 307.81 937.29 311.60 937.86 315.49
  Q 938.57 320.31 938.48 325.65
  C 938.41 329.77 939.20 333.85 939.20 337.98
  A 1.86 1.85 6.2 0 0 940.66 339.79
  Q 990.35 350.71 1040.49 360.77
  Q 1046.46 361.96 1052.50 362.86
  Q 1054.77 363.19 1056.96 361.95
  Q 1070.13 354.47 1079.41 348.15
  Q 1112.64 325.50 1147.18 296.94
  Q 1152.00 292.96 1156.77 288.90
  Q 1157.10 288.62 1156.85 288.97
  Q 1149.94 298.82 1142.96 309.34
  Q 1119.97 344.01 1103.15 381.35
  Q 1098.33 392.05 1092.72 406.04
  Q 1092.17 407.42 1092.45 408.75
  Q 1104.12 465.17 1117.04 520.78
  A 2.01 2.01 0.0 0 0 1118.82 522.33
  C 1120.39 522.47 1122.09 523.07 1123.74 523.03
  Q 1129.72 522.86 1135.11 523.55
  Q 1138.95 524.03 1142.28 523.97
  C 1147.95 523.86 1153.42 525.09 1158.99 524.99
  Q 1161.99 524.94 1165.11 525.40
  C 1170.40 526.20 1175.86 525.89 1181.18 525.86
  Q 1183.71 525.84 1186.30 525.31
  C 1188.50 524.87 1190.64 524.92 1192.90 524.47
  Q 1199.99 523.05 1203.25 521.94
  Q 1236.67 510.66 1270.16 497.64
  Q 1270.26 497.60 1279.89 494.07
  Q 1287.30 491.36 1294.31 487.72
  Q 1294.50 487.62 1294.60 487.81
  L 1294.60 487.82
  Q 1294.70 488.00 1294.52 488.10
  Q 1286.14 492.65 1278.88 497.46
  Q 1243.18 521.14 1208.84 544.33
  Q 1198.61 551.23 1191.77 557.01
  Q 1187.73 560.41 1181.96 566.70
  Q 1168.37 581.50 1153.50 598.89
  Q 1151.91 600.75 1153.42 602.68
  Q 1181.04 637.88 1209.86 673.83
  C 1211.01 675.27 1212.14 675.84 1214.03 676.12
  Q 1267.83 684.16 1321.10 695.29
  Q 1367.07 704.89 1416.91 715.38
  C 1433.36 718.85 1450.16 721.78 1466.37 724.92
  Q 1466.67 724.98 1466.71 725.25
  A 0.43 0.41 82.6 0 1 1466.35 725.73
  Q 1451.89 727.54 1437.75 729.11
  Q 1419.47 731.13 1375.77 738.16
  Q 1341.24 743.72 1305.14 749.67
  Q 1260.34 757.06 1215.40 763.40
  Q 1214.58 763.52 1213.31 765.04
  Q 1182.70 801.70 1152.25 838.26
  A 1.53 1.53 0.0 0 0 1152.22 840.18
  Q 1166.88 858.79 1182.38 876.66
  Q 1189.32 884.66 1198.74 891.69
  Q 1208.45 898.94 1230.55 913.19
  Q 1264.80 935.28 1294.00 953.46
  Q 1297.54 955.66 1301.64 958.04
  Q 1305.45 960.25 1301.43 958.46
  Q 1292.62 954.56 1282.47 950.55
  C 1259.74 941.57 1237.41 932.10 1214.73 924.07
  C 1204.95 920.61 1195.57 917.64 1185.54 916.20
  Q 1175.22 914.72 1166.46 915.40
  Q 1157.81 916.07 1151.36 916.14
  Q 1144.46 916.20 1136.57 916.79
  Q 1128.21 917.41 1121.36 916.99
  Q 1118.56 916.82 1117.93 919.67
  Q 1106.00 973.17 1094.39 1028.03
  Q 1093.66 1031.47 1094.84 1035.24
  C 1100.08 1052.02 1106.77 1067.89 1115.31 1083.50
  Q 1133.79 1117.29 1158.21 1148.96
  Q 1159.73 1150.94 1157.84 1149.30
  C 1139.68 1133.57 1120.72 1118.08 1100.88 1104.20
  Q 1079.60 1089.30 1058.09 1079.16
  Q 1055.53 1077.95 1050.50 1078.66
  Q 996.01 1086.34 941.61 1094.55
  Q 940.97 1094.65 941.06 1095.30
  Z
  M 1010.78 684.31
  C 1005.01 643.91 989.22 604.57 966.75 570.35
  Q 961.49 562.34 955.09 554.29
  Q 938.65 533.60 921.23 518.02
  Q 869.91 472.16 803.36 454.38
  Q 765.24 444.20 726.68 445.37
  Q 678.65 446.82 631.82 465.02
  C 583.29 483.87 540.11 515.14 508.95 556.62
  Q 462.17 618.92 454.33 695.88
  Q 453.38 705.24 453.20 715.95
  Q 452.54 755.81 462.24 791.09
  Q 474.21 834.60 499.35 872.91
  Q 520.22 904.72 553.12 932.09
  Q 560.72 938.42 569.19 944.21
  Q 639.79 992.52 726.90 995.33
  Q 736.80 995.65 747.07 995.04
  C 812.19 991.18 873.37 967.55 922.46 924.85
  Q 930.26 918.07 936.97 911.13
  Q 979.26 867.38 998.95 809.90
  Q 1019.96 748.54 1010.78 684.31
  Z"
      />
      <path
        fill="#ff41ad"
        d="
  M 1010.78 684.31
  Q 1019.96 748.54 998.95 809.90
  Q 979.26 867.38 936.97 911.13
  Q 930.26 918.07 922.46 924.85
  C 873.37 967.55 812.19 991.18 747.07 995.04
  Q 736.80 995.65 726.90 995.33
  Q 639.79 992.52 569.19 944.21
  Q 560.72 938.42 553.12 932.09
  Q 520.22 904.72 499.35 872.91
  Q 474.21 834.60 462.24 791.09
  Q 452.54 755.81 453.20 715.95
  Q 453.38 705.24 454.33 695.88
  Q 462.17 618.92 508.95 556.62
  C 540.11 515.14 583.29 483.87 631.82 465.02
  Q 678.65 446.82 726.68 445.37
  Q 765.24 444.20 803.36 454.38
  Q 869.91 472.16 921.23 518.02
  Q 938.65 533.60 955.09 554.29
  Q 961.49 562.34 966.75 570.35
  C 989.22 604.57 1005.01 643.91 1010.78 684.31
  Z
  M 992.19 772.10
  Q 994.41 760.88 995.61 747.86
  Q 1002.51 672.64 969.06 605.71
  Q 947.77 563.11 913.49 531.65
  C 882.49 503.20 845.15 482.48 805.00 470.85
  C 771.56 461.17 734.32 458.75 698.60 463.25
  C 640.39 470.58 583.97 499.22 543.11 541.96
  Q 526.92 558.89 515.64 575.05
  Q 482.05 623.15 472.31 683.29
  Q 470.75 692.94 470.10 702.98
  Q 464.32 792.66 514.11 866.99
  C 529.66 890.20 550.02 910.91 571.87 927.15
  Q 624.56 966.30 690.77 976.51
  C 721.23 981.21 752.09 980.49 782.29 975.43
  C 818.32 969.40 852.70 955.55 883.21 935.38
  Q 900.90 923.68 917.56 907.99
  Q 976.25 852.70 992.19 772.10
  Z"
      />
      <path
        fill="#fdfafe"
        d="
  M 992.19 772.10
  Q 976.25 852.70 917.56 907.99
  Q 900.90 923.68 883.21 935.38
  C 852.70 955.55 818.32 969.40 782.29 975.43
  C 752.09 980.49 721.23 981.21 690.77 976.51
  Q 624.56 966.30 571.87 927.15
  C 550.02 910.91 529.66 890.20 514.11 866.99
  Q 464.32 792.66 470.10 702.98
  Q 470.75 692.94 472.31 683.29
  Q 482.05 623.15 515.64 575.05
  Q 526.92 558.89 543.11 541.96
  C 583.97 499.22 640.39 470.58 698.60 463.25
  C 734.32 458.75 771.56 461.17 805.00 470.85
  C 845.15 482.48 882.49 503.20 913.49 531.65
  Q 947.77 563.11 969.06 605.71
  Q 1002.51 672.64 995.61 747.86
  Q 994.41 760.88 992.19 772.10
  Z
  M 774.15 466.45
  Q 673.83 451.78 590.31 505.62
  Q 570.95 518.10 552.93 535.19
  Q 504.21 581.38 483.71 644.58
  C 470.93 683.98 468.34 727.02 475.41 766.91
  Q 484.34 817.26 513.67 862.31
  C 549.36 917.12 606.45 955.52 670.22 970.50
  C 675.39 971.72 680.81 972.55 686.17 973.57
  Q 691.94 974.68 697.53 975.32
  Q 750.91 981.50 800.27 969.46
  Q 869.30 952.63 921.83 900.83
  Q 936.36 886.51 948.09 869.84
  Q 993.70 805.05 994.70 726.41
  Q 995.37 674.12 976.73 627.89
  Q 947.24 554.74 883.69 510.53
  Q 862.21 495.59 835.84 484.11
  Q 805.94 471.10 774.15 466.45
  Z"
      />
      <path
        fill="#ff41ad"
        d="
  M 774.15 466.45
  Q 805.94 471.10 835.84 484.11
  Q 862.21 495.59 883.69 510.53
  Q 947.24 554.74 976.73 627.89
  Q 995.37 674.12 994.70 726.41
  Q 993.70 805.05 948.09 869.84
  Q 936.36 886.51 921.83 900.83
  Q 869.30 952.63 800.27 969.46
  Q 750.91 981.50 697.53 975.32
  Q 691.94 974.68 686.17 973.57
  C 680.81 972.55 675.39 971.72 670.22 970.50
  C 606.45 955.52 549.36 917.12 513.67 862.31
  Q 484.34 817.26 475.41 766.91
  C 468.34 727.02 470.93 683.98 483.71 644.58
  Q 504.21 581.38 552.93 535.19
  Q 570.95 518.10 590.31 505.62
  Q 673.83 451.78 774.15 466.45
  Z
  M 833.7531 717.2895
  A 101.80 99.99 -2.5 0 0 727.6885 621.8352
  A 101.80 99.99 -2.5 0 0 630.3469 726.1705
  A 101.80 99.99 -2.5 0 0 736.4115 821.6248
  A 101.80 99.99 -2.5 0 0 833.7531 717.2895
  Z"
      />
    </svg>

    <img
      v-for="(egirl, index) in enemies"
      :key="index"
      src="https://i.goopics.net/7p292c.png"
      class="enemy"
      :style="{ top: egirl.top + 'px', left: egirl.left + 'px' }"
      draggable="false"
    />

    <div v-if="lose" class="losecontainer__lose">
      <div class="losebackground">
        <div class="losetext">
          <h2>Tu es un gros baiseur..</h2>
        </div>
        <div class="losecontainer__lose__score">
          <div class="losecontainer__lose__score__bloc">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 20 20"
            >
              <g fill="none">
                <path
                  d="M17 2.5a.5.5 0 0 0-1 0V3h-.5a.5.5 0 0 0 0 1h.5v.5a.5.5 0 0 0 1 0V4h.5a.5.5 0 0 0 0-1H17v-.5zm-10 3a.5.5 0 0 1-.5.5H6v.5a.5.5 0 0 1-1 0V6h-.5a.5.5 0 0 1 0-1H5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 .5.5zm9 9a.5.5 0 0 1-.5.5H15v.5a.5.5 0 0 1-1 0V15h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 .5.5zm-2.565-7.934a1.914 1.914 0 0 0-2.708 0l-.477.477l2.707 2.707l.478-.477a1.914 1.914 0 0 0 0-2.707zm-1.185 3.891L9.543 7.75l-6.982 6.982a1.914 1.914 0 1 0 2.707 2.707l6.982-6.982z"
                  fill="currentColor"
                ></path>
              </g>
            </svg>
            <p>Score : {{ enemiesKilled }}</p>
          </div>
          <div class="losecontainer__lose__score__bloc">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 640 512"
            >
              <path
                d="M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48c0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8c0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8c26.5 0 48-21.5 48-48s-21.5-48-48-48z"
                fill="currentColor"
              ></path>
            </svg>
            <p>lvl : {{ lvl }}</p>
          </div>
          <img
            :src="usedSkin"
            draggable="false"
            class="losecontainer__lose__score__skin"
          />
        </div>
        <div class="losecontainer__lose__thanks">
          <p>
            Merci pour leur aide et idées : KeroSan, Chapelain, Hunt, Honda,
            Heavent, Esypso
          </p>
        </div>
      </div>
      <button v-if="lose" @click="reload">Restart</button>
    </div>

    <div v-if="lose" class="losecontainer"></div>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from "vue";
import { useCharacter } from "../composables/useCharacter";
import { useEnemy } from "../composables/useEnemy";
import { useSkins } from "../composables/useSkins";

const { createWeapon, weapons, enemiesKilled, lvl, life, lose } =
  useCharacter();
const { usedSkin } = useSkins();

const character = ref();
const characterRect = ref();
const mouseX = ref();

const getMouseX = (event) => {
  character.value.style.left = event.clientX + "px";
  characterRect.value = character.value.getBoundingClientRect();
  mouseX.value = event.clientX;
};

const {
  enemies,
  enemyWeapon,
  manageSpeed,
  manageSpeedWeapon,
  createEnemyWeapon,
  addEnemy,
} = useEnemy();

const reload = () => {
  window.location.reload();
};

window.addEventListener("lvlup", () => {
  manageSpeed(0.05);
  manageSpeedWeapon(0.08);
  addEnemy(1);
  createEnemyWeapon();
});

onMounted(() => {
  window.addEventListener("mousemove", getMouseX);
});
onUnmounted(() => window.removeEventListener("mousemove", getMouseX));
</script>

<style>
.Game {
  background: url("https://i.goopics.net/xppvjd.png");
  background-size: cover;
  background-repeat: no-repeat;
  height: 100vh;
  overflow: hidden;
  position: relative;
}

.mochi {
  width: 70px;
  height: 70px;
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translate(-50%, -50%);
  user-select: none;
}

.character {
  width: 100%;
  height: auto;
  filter: drop-shadow(0 0 5px rgb(31, 31, 31));
}

.enemy {
  position: absolute;
  width: 60px;
  height: auto;
  outline: none;
  user-select: none;
  filter: drop-shadow(0 0 4px rgb(0, 0, 0));
}

.weapon {
  width: 15px;
  height: auto;
  position: absolute;
}

.enemyWeapon {
  width: 15px;
  height: auto;
  position: absolute;
}

.score {
  position: absolute;
  bottom: 10px;
  left: 10px;
  color: white;
}

.level {
  position: absolute;
  bottom: 10px;
  right: 10px;
  color: white;
}

.life {
  width: 8px;
  height: 8px;
  background: rgb(38, 235, 136);
  border: 2px solid rgb(14, 105, 26);
  border-radius: 50%;
  margin-right: 3px;
}

.containerlife {
  display: flex;
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translate(-50%, -50%);
}

.losecontainer {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 99;
}

.losecontainer__lose {
  height: 55%;
  background-color: rgb(10, 16, 51);
  box-shadow: 0px 10px 15px -3px rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  border: 10px solid rgb(126, 16, 136);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 100;
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.losebackground {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  background-image: url("https://i.goopics.net/whpw47.png");
  background-size: auto 30px;
}

.losecontainer__lose h2 {
  color: rgb(255, 233, 35);
  margin: 0;
  font-size: 1.3em;
}

.losecontainer__lose__thanks {
  color: white;
  background: rgb(126, 16, 136);
  padding: 10px 15px;
  border-radius: 5px;
  box-shadow: 0px 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.losecontainer__lose__score {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
}

.losecontainer__lose__score__bloc {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  color: white;
  background: rgb(126, 16, 136);
  border-radius: 5px;
  padding: 7px 13px;
  box-shadow: 0px 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.losecontainer__lose__score__bloc svg {
  margin-right: 10px;
  width: 30px;
  height: auto;
}

.losecontainer__lose__score__skin {
  margin-top: 25px;
  margin-bottom: 10px;
  width: 100px;
  height: auto;
}

.loseimg {
  width: 200px;
  height: auto;
}

.losetext {
  text-align: center;
  background: rgb(126, 16, 136);
  border-radius: 5px;
  padding: 7px 13px;
}
</style>
